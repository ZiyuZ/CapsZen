<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CapsZen - CapsLock Key Remapper</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/keymap.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css"
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="icon" href="assets/CapsZen.ico" type="image/x-icon">
    <script src="scripts/main.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>

<body x-data="capszenApp()" x-init="init()">
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo" @click="window.scrollTo(0, 0)">
                    <img src="assets/CapsZen.png" alt="CapsZen Logo" class="logo-img">
                    <h1>CapsZen</h1>
                </div>
                <nav class="nav">
                    <a href="#keymap" @click="scrollToSection('keymap')">
                        <span class="nav-icon"><i class="fas fa-keyboard"></i></span>
                        <span>Keymap</span>
                    </a>
                    <a href="#features" @click="scrollToSection('features')">
                        <span class="nav-icon"><i class="fas fa-star"></i></span>
                        <span>Features</span>
                    </a>
                    <a href="#download" @click="scrollToSection('download')">
                        <span class="nav-icon"><i class="fas fa-download"></i></span>
                        <span>Download</span>
                    </a>
                    <a href="https://github.com/ZiyuZ/CapsZen" target="_blank">
                        <span class="nav-icon"><i class="fab fa-github"></i></span>
                        <span>GitHub</span>
                    </a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main">
        <!-- Hero Section -->
        <section class="hero">
            <div class="container">
                <div class="hero-content">
                    <h2>Caps + Zen = Productivity</h2>
                    <p>CapsZen turns your unused CapsLock key into a powerful modifier, giving you instant access to
                        navigation, editing, and application shortcuts.</p>

                    <div class="hero-visual">
                        <div class="keyboard-preview" x-show="true" x-transition.delay.500ms>
                            <div class="key-row">
                                <div class="key capslock">CapsLock</div>
                                <div class="key-arrow">→</div>
                                <div class="key zen"><span>Zen Key</span></div>
                            </div>
                            <div class="preview-text">Transforms unused CapsLock into a powerful modifier</div>
                        </div>
                    </div>
                    <div class="hero-actions">
                        <button @click="scrollToSection('keymap')" class="btn btn-primary">View Interactive
                            Keymap</button>
                        <a href="#download" @click="scrollToSection('download')" class="btn btn-secondary">Download
                            Now</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Keymap Section -->
        <section id="keymap" class="keymap-section">
            <div class="container">
                <h3>KEYMAP</h3>
                <p>Explore all available shortcuts and see how CapsZen transforms your typing experience.</p>

                <!-- Embedded Keymap -->
                <div class="keymap-container">
                    <div id="board">
                        <div class="theme-selector">
                            <div class="theme-btn theme-mac" :class="{'active': currentPlatform === 'mac'}"
                                @mouseenter="currentPlatform = 'mac'" @click="currentPlatform = 'mac'">
                                <i class="fa-brands fa-apple"></i>
                            </div>
                            <div class="theme-btn theme-windows" :class="{'active': currentPlatform === 'windows'}"
                                @mouseenter="currentPlatform = 'windows'" @click="currentPlatform = 'windows'">
                                <i class="fa-brands fa-windows"></i>
                            </div>
                        </div>

                        <!-- 数据驱动的键盘布局 -->
                        <template x-for="row in getKeyboardRows()" :key="row.name">
                            <div class="row" :class="row.name">
                                <!-- 特殊按键 before -->
                                <template x-for="specialKey in row.specialKeys.before || []" :key="specialKey.key">
                                    <button type="button" :style="`flex: ${getKeyFlex(specialKey.key)}`"
                                        :class="getKeyClass(specialKey.key)" :data-key="specialKey.key"
                                        :data-tooltip="getTooltipText(specialKey.key)">
                                        <template x-if="isKeyActive(specialKey.key)">
                                            <div>
                                                <div class="key-description" x-text="getKeyDescription(specialKey.key)">
                                                </div>
                                                <div class="physical-key" x-text="capitalize(specialKey.key)">
                                                </div>
                                            </div>
                                        </template>
                                        <template x-if="!isKeyActive(specialKey.key)">
                                            <span x-text="capitalize(specialKey.key)"></span>
                                        </template>
                                    </button>
                                </template>

                                <!-- 普通按键 -->
                                <template x-for="key in row.keys" :key="key">
                                    <button type="button" :class="getKeyClass(key)" :data-key="key"
                                        :data-tooltip="getTooltipText(key)">
                                        <template x-if="isKeyActive(key)">
                                            <div>
                                                <div class="key-description" x-text="getKeyDescription(key)"></div>
                                                <div class="physical-key" x-text="key"></div>
                                            </div>
                                        </template>
                                        <template x-if="!isKeyActive(key)">
                                            <span x-text="key"></span>
                                        </template>
                                    </button>
                                </template>

                                <!-- 特殊按键 after -->
                                <template x-for="specialKey in row.specialKeys.after || []" :key="specialKey.key">
                                    <button type="button" :style="`flex: ${getKeyFlex(specialKey.key)}`"
                                        :class="getKeyClass(specialKey.key)" :data-key="specialKey.key"
                                        :data-tooltip="getTooltipText(specialKey.key)">
                                        <template x-if="isKeyActive(specialKey.key)">
                                            <div>
                                                <div class="key-description" x-text="getKeyDescription(specialKey.key)">
                                                </div>
                                                <div class="physical-key" x-text="capitalize(specialKey.key)">
                                                </div>
                                            </div>
                                        </template>
                                        <template x-if="!isKeyActive(specialKey.key)">
                                            <span x-text="capitalize(specialKey.key)"></span>
                                        </template>
                                    </button>
                                </template>
                            </div>
                        </template>

                        <!-- Bottom Row -->
                        <div class="row">
                            <template x-for="(button, index) in getBottomRowButtons()" :key="button.key + '_' + index">
                                <button type="button" :style="button.flex ? `flex: ${getKeyFlex('space')}` : null"
                                    :class="getKeyClass(button.key)" :data-key="button.key"
                                    :data-tooltip="getTooltipText(button.key)">
                                    <template x-if="isKeyActive(button.key)">
                                        <div>
                                            <div class="key-description" x-text="getKeyDescription(button.key)"></div>
                                            <div class="physical-key" x-text="capitalize(button.key)"></div>
                                        </div>
                                    </template>
                                    <template x-if="!isKeyActive(button.key)">
                                        <span x-text="capitalize(button.key)"></span>
                                    </template>
                                </button>
                            </template>
                            <!-- Arrow Keys -->
                            <div class="arrows">
                                <div class="row">
                                    <button type="button" style="height: 1.6rem;" :class="getKeyClass('up')"
                                        data-key="up">
                                        <svg viewBox="0 0 24 24">
                                            <path fill="currentColor" d="M7,15L12,10L17,15H7Z" />
                                        </svg>
                                    </button>
                                </div>
                                <div class="row">
                                    <button type="button" style="height: 1.6rem;" :class="getKeyClass('left')"
                                        data-key="left">
                                        <svg viewBox="0 0 24 24">
                                            <path fill="currentColor" d="M14,7L9,12L14,17V7Z" />
                                        </svg>
                                    </button>
                                    <button type="button" style="height: 1.6rem;" :class="getKeyClass('down')"
                                        data-key="down">
                                        <svg viewBox="0 0 24 24">
                                            <path fill="currentColor" d="M7,10L12,15L17,10H7Z" />
                                        </svg>
                                    </button>
                                    <button type="button" style="height: 1.6rem;" :class="getKeyClass('right')"
                                        data-key="right">
                                        <svg viewBox="0 0 24 24">
                                            <path fill="currentColor" d="M10,17L15,12L10,7V17Z" />
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section id="features" class="features">
            <div class="container">
                <h3>Why CapsZen?</h3>
                <div class="features-grid">
                    <template x-for="feature in features">
                        <div class="feature">
                            <div class="feature-icon" x-text="feature.icon"></div>
                            <h4 x-text="feature.title"></h4>
                            <p x-text="feature.description"></p>
                        </div>
                    </template>
                </div>
            </div>
        </section>

        <!-- Download Section -->
        <section id="download" class="download">
            <div class="container">
                <h3>Get Started</h3>
                <div class="download-grid">
                    <template x-for="option in downloadOptions">
                        <div class="download-option">
                            <h4 x-text="option.title"></h4>
                            <p x-text="option.requirement"></p>
                            <ol>
                                <template x-for="step in option.steps">
                                    <li x-html="step"></li>
                                </template>
                            </ol>
                            <a :href="option.downloadLink" class="btn btn-primary" x-text="option.buttonText"></a>
                        </div>
                    </template>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 CapsZen. Made with ❤️ for productivity enthusiasts.</p>
            <div class="footer-links">
                <a href="https://github.com/ZiyuZ/CapsZen" target="_blank">GitHub</a>
                <a href="https://github.com/ZiyuZ/CapsZen/issues" target="_blank">Issues</a>
                <a href="https://github.com/ZiyuZ/CapsZen/blob/main/LICENSE" target="_blank">License</a>
            </div>
        </div>
    </footer>
</body>

</html>